/* =========================================================
   Category Carousel — tidy, theme-safe, zero-confusion
   File: src/styles/categoryCarosel.css
   ========================================================= */

/* -------------------- Tuners (local scope) -------------------- */
/* Edit these to change size/spacing without hunting selectors */
.category-scroll {
  --chip-gap: 12px;         /* space between chips */
  --chip-pad-y: 10px;       /* chip vertical padding */
  --chip-pad-x: 14px;       /* chip horizontal padding */
  --chip-radius: 12px;      /* chip corner radius */

  --icon-tile-size: 52px;   /* square tile behind the icon */
  --icon-tile-radius: 14px; /* icon tile corners */
  --icon-size: 30px;        /* actual icon size */

  --category-font-size: 1rem;
  --category-font-weight: 600;

  --hover-shadow-fallback: 0 8px 24px rgba(2, 6, 23, 0.12);

  /* Scroll paddings */
  --strip-pad-x: 8px;       /* left/right padding for strip */
}

/* Tile base colors (inherit from theme tokens) */
.category-scroll {
  --icon-tile-bg: var(--panel);
  --icon-tile-border: var(--stroke);
}

/* Dark-mode fine-tune (optional; theme tokens already handle most) */
.theme-dark .category-scroll {
  --icon-tile-bg: rgba(255,255,255,0.08);
  --icon-tile-border: rgba(255,255,255,0.16);
}

/* -------------------- Scroll container -------------------- */
.category-scroll {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
  gap: var(--chip-gap);
  padding: 2px var(--strip-pad-x);
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x proximity;
  position: relative; /* allows future arrows if needed */
}
.category-scroll > * { scroll-snap-align: start; }

/* Optional: subtle scrollbar polish */
.category-scroll::-webkit-scrollbar { height: 8px; }
.category-scroll::-webkit-scrollbar-thumb {
  background: var(--stroke);
  border-radius: 999px;
}

/* -------------------- Chip (the category card) -------------------- */
.category-scroll .category,
.category-scroll .category-item,
.category-scroll .category-pill,
.category-scroll .chip {
  display: inline-flex;
  align-items: center;
  gap: 20px; /* space between icon tile and label */
  padding: var(--chip-pad-y) var(--chip-pad-x);
  min-height: calc(var(--icon-tile-size) + 8px);
  border-radius: var(--chip-radius);
  background: var(--panel);
  color: var(--text);
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow-sm, none);
  line-height: 1.1;
  cursor: pointer;
  user-select: none;
  transition:
    transform .18s ease,
    box-shadow .18s ease,
    background-color .18s ease,
    border-color .18s ease,
    color .18s ease;
}

/* Hover / focus */
.category-scroll .category:hover,
.category-scroll .category:focus-visible,
.category-scroll .category-item:hover,
.category-scroll .category-item:focus-visible,
.category-scroll .category-pill:hover,
.category-scroll .category-pill:focus-visible,
.category-scroll .chip:hover,
.category-scroll .chip:focus-visible {
  transform: translateY(-2px) scale(1.02);
  box-shadow: var(--hover-shadow, var(--hover-shadow-fallback));
  border-color: var(--accent);
  outline: none;
}

/* Active (click) */
.category-scroll .category:active,
.category-scroll .category-item:active,
.category-scroll .category-pill:active,
.category-scroll .chip:active {
  transform: translateY(0) scale(1);
  box-shadow: var(--shadow-sm, none);
}

/* -------------------- Icon tile -------------------- */
.category-scroll .category .category-icon,
.category-scroll .category-item .category-icon,
.category-scroll .category-pill .category-icon,
.category-scroll .chip .category-icon {
  width: var(--icon-tile-size);
  height: var(--icon-tile-size);
  flex: 0 0 var(--icon-tile-size);
  display: grid;
  place-items: center;
  box-sizing: border-box;

  background: var(--icon-tile-bg);
  border: 1px solid var(--icon-tile-border);
  border-radius: var(--icon-tile-radius);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.25),
    0 1px 2px rgba(2,6,23,.06);
  color: currentColor; /* lets SVGs inherit the chip color */
  line-height: 0;
}

/* If you don't wrap the icon in .category-icon, treat first child as icon tile */
.category-scroll .category > :first-child,
.category-scroll .category-item > :first-child,
.category-scroll .category-pill > :first-child,
.category-scroll .chip > :first-child {
  width: var(--icon-tile-size);
  height: var(--icon-tile-size);
  flex: 0 0 var(--icon-tile-size);
  display: grid;
  place-items: center;
  background: var(--icon-tile-bg);
  border: 1px solid var(--icon-tile-border);
  border-radius: var(--icon-tile-radius);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.25),
    0 1px 2px rgba(2,6,23,.06);
  color: currentColor;
  line-height: 0;
}

/* Icon image/SVG size */
.category-scroll .category .category-icon img,
.category-scroll .category .category-icon svg,
.category-scroll .category > :first-child img,
.category-scroll .category > :first-child svg,
.category-scroll .category-item .category-icon img,
.category-scroll .category-item .category-icon svg,
.category-scroll .category-item > :first-child img,
.category-scroll .category-item > :first-child svg,
.category-scroll .category-pill .category-icon img,
.category-scroll .category-pill .category-icon svg,
.category-scroll .category-pill > :first-child img,
.category-scroll .category-pill > :first-child svg,
.category-scroll .chip .category-icon img,
.category-scroll .chip .category-icon svg,
.category-scroll .chip > :first-child img,
.category-scroll .chip > :first-child svg {
  width: var(--icon-size);
  height: var(--icon-size);
  display: block;
  object-fit: contain;
}

/* Force SVGs to actually use currentColor (even if paths had hard fills) */
.category-scroll .category .category-icon svg,
.category-scroll .category > :first-child svg,
.category-scroll .category .category-icon svg *,
.category-scroll .category > :first-child svg * {
  fill: currentColor !important;
  stroke: currentColor !important;
}

/* PNG fallback tint idea (optional; remove if it looks off)
.category-scroll .category .category-icon img,
.category-scroll .category > :first-child img {
  filter: brightness(0) invert(1); 
}
*/

/* -------------------- Label -------------------- */
.category-scroll .category .label,
.category-scroll .category-item .label,
.category-scroll .category-pill .label,
.category-scroll .chip .label,
.category-scroll .category .category-label,
.category-scroll .category-item .category-label,
.category-scroll .category-pill .category-label,
.category-scroll .chip .category-label,
.category-scroll .category > :not(:first-child) {
  font-size: var(--category-font-size);
  font-weight: var(--category-font-weight);
  letter-spacing: .2px;
  line-height: 1.2;
  white-space: nowrap;
}

/* -------------------- Mobile tweaks -------------------- */
@media (max-width: 480px) {
  .category-scroll { gap: 8px; }
  .category-scroll .category,
  .category-scroll .category-item,
  .category-scroll .category-pill,
  .category-scroll .chip {
    padding: 8px 12px;
    gap: 10px;
  }
  .category-scroll .category .label,
  .category-scroll .category .category-label,
  .category-scroll .category > :not(:first-child) {
    font-size: .94rem;
  }
}

/* =========================================================
   OPTIONAL: Gradient variant (opt-in with modifier class)
   Add class "category-scroll--gradient" to the container.
   ========================================================= */
.category-scroll.category-scroll--gradient {
  --grad-angle: 150deg;
  --grad-a: rgba(39, 40, 103, 1);  /* tweak to taste */
  --grad-b: rgba(54, 172, 201, 1);
  --chip-overlay: .15;             /* translucent white film on top */
  --chip-text: #ffffff;            /* text/icon color on gradient */
}

.category-scroll.category-scroll--gradient .category,
.category-scroll.category-scroll--gradient .category-item,
.category-scroll.category-scroll--gradient .category-pill,
.category-scroll.category-scroll--gradient .chip {
  background: linear-gradient(var(--grad-angle), var(--grad-a), var(--grad-b));
  border-color: transparent;
  color: var(--chip-text);
  position: relative;
  overflow: hidden;
}

/* Soft “glass” overlay to tame the gradient */
.category-scroll.category-scroll--gradient .category::after,
.category-scroll.category-scroll--gradient .category-item::after,
.category-scroll.category-scroll--gradient .category-pill::after,
.category-scroll.category-scroll--gradient .chip::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: rgba(255,255,255,var(--chip-overlay));
  pointer-events: none;
}

/* Icon tile on gradient chips */
.category-scroll.category-scroll--gradient .category .category-icon,
.category-scroll.category-scroll--gradient .category > :first-child {
  background: rgba(255,255,255,0.20);
  border: 1px solid rgba(255,255,255,0.30);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.35),
    0 1px 2px rgba(2,6,23,.10);
}
